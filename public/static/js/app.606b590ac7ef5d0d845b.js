webpackJsonp([1],{"5lg3":function(t,a){},NHnr:function(t,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=r("7+uW"),e=r("1I9z"),i=r("ztNV"),n=r.n(i),c={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"header-menu"},[a("h2",{staticClass:"header-name"},[this._v(this._s(this.name))]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"header-lang"},[a("a",{staticClass:"header-lang-ru",attrs:{href:"#"}},[this._v("РУ")]),this._v(" "),a("p",{staticStyle:{padding:"0 5px"}},[this._v("|")]),this._v(" "),a("a",{staticClass:"header-lang-ua",attrs:{href:"#"}},[this._v("УКР")])])}]};var d={name:"card",data:function(){return{msg:"Добавление платежной карты",photoVisa:!1,photoMaster:!1,validForm:!1,cardNum:"",cardDate:"",cardCvv:"",numErrorMsg:"",dateErrorMsg:"",cvvErrorMsg:""}},methods:{onlyNum:function(t){t.target.value=t.target.value.replace(/[^\d]/g,"")},inputValidate:function(t){if("cardNumber"===t){var a=this.luhnAlgorithm();this.numErrorMsg=a?"":""===this.cardNum?"* Обязательное поле":"* Некорректный номер карты"}else if("cardDate"===t){var r=this.checkDate();this.dateErrorMsg=r?"":""===this.cardDate?"* Обязательное поле":"* Некорректна дата"}else"cardCvv"===t&&this.cardCvv.length<3&&(this.cvvErrorMsg=""===this.cardCvv?"* Обязательное поле":"* Некорректный номер cvv")},luhnAlgorithm:function(){var t=0,a=this.cardNum.replace(/\s/g,"");if(a.length<16)return!1;for(var r=0;r<a.length;r++){var s=parseInt(a[r]);(a.length-r)%2==0&&(s*=2)>9&&(s-=9),t+=s}return t%10==0},checkDate:function(){if(this.cardDate.replace("/","").replace(" ","").length<4)return!1;var t=new Date,a=t.getMonth(),r=t.getFullYear(2016),s=parseInt(this.cardDate.split("/")[0]),e=parseInt("20"+this.cardDate.split("/")[1]);return r<e&&s<13||r==e&&a<s&&s<13},checkNameCard:function(){4==this.cardNum[0]?(this.photoVisa=!0,this.photoMaster=!1):this.cardNum[0]+this.cardNum[1]>=51&&this.cardNum[0]+this.cardNum[1]<=55?(this.photoMaster=!0,this.photoVisa=!1):(this.photoMaster=!1,this.photoVisa=!1)},btnClick:function(){var t=this,a=!0;this.inputValidate("cardNumber"),this.inputValidate("cardDate"),this.inputValidate("cardCvv"),(""===this.cardNum||""===this.cardDate||""===this.cardCvv||this.numErrorMsg||this.dateErrorMsg||this.cvvErrorMsg)&&(a=!1),a&&(this.validForm=a,setTimeout(function(){t.validForm=!1,t.cardNum="",t.cardDate="",t.cardCvv="",alert("Форма успешно отправлена"),window.location.reload()},2e3))}}},o={render:function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"main-add"},[r("h1",{staticClass:"pay-card-ttl"},[t._v(t._s(t.msg))]),t._v(" "),r("div",{staticClass:"block-add-card"},[r("form",{staticClass:"form-add-card",attrs:{action:""}},[r("label",{staticClass:"label-n-card",attrs:{for:"number-card"}},[t._v("Номер карты")]),t._v(" "),r("div",{staticClass:"wrapNum"},[r("input-mask",{ref:"num",staticClass:"number-card",attrs:{placeholder:"Номер карты",mask:"9999 9999 9999 9999",maskChar:" "},on:{blur:function(t){},focus:function(a){t.numErrorMsg=""},input:t.checkNameCard},model:{value:t.cardNum,callback:function(a){t.cardNum=a},expression:"cardNum"}}),t._v(" "),t.photoVisa?r("div",{staticClass:"photo-visa"}):t.photoMaster?r("div",{staticClass:"photo-master"}):t._e(),t._v(" "),t.numErrorMsg?r("div",{staticClass:"invalid-error"},[t._v(t._s(t.numErrorMsg))]):t._e()],1),t._v(" "),r("div",{staticClass:"date-and-cvv"},[r("div",{staticClass:"wrapDate"},[r("input-mask",{ref:"date",staticClass:"date-card",attrs:{placeholder:"Срок действия",mask:"99/99",maskChar:" "},on:{blur:function(t){},focus:function(a){t.dateErrorMsg=""}},model:{value:t.cardDate,callback:function(a){t.cardDate=a},expression:"cardDate"}}),t._v(" "),t.dateErrorMsg?r("div",{staticClass:"invalid-error"},[t._v(t._s(t.dateErrorMsg))]):t._e()],1),t._v(" "),r("div",{staticClass:"wrapCvv"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.cardCvv,expression:"cardCvv"}],staticClass:"cvv-card",attrs:{placeholder:"CVС код",type:"password",maxlength:"3"},domProps:{value:t.cardCvv},on:{input:[function(a){a.target.composing||(t.cardCvv=a.target.value)},t.onlyNum],blur:function(t){},focus:function(a){t.cvvErrorMsg=""}}}),t._v(" "),t.cvvErrorMsg?r("div",{staticClass:"invalid-error"},[t._v(t._s(t.cvvErrorMsg))]):t._e()])]),t._v(" "),r("p",{staticClass:"text-for-add"},[t._v("Для привязки карты мы проведем платеж в размере 1.00 UAH, который будет возвращен в течение 30 минут")]),t._v(" "),r("button",{staticClass:"button-add-card",class:{"preloader-wrap":t.validForm},on:{click:function(a){return a.preventDefault(),t.btnClick(a)}}},[t._v("Получить деньги")])])])])},staticRenderFns:[]};var l={name:"App",components:{Header:r("VU/8")({name:"main",data:function(){return{name:"CREDITON"}}},c,!1,function(t){r("QxEL")},"data-v-57748e14",null).exports,AddCard:r("VU/8")(d,o,!1,function(t){r("5lg3")},"data-v-7151f8e8",null).exports}},v={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"crediton"}},[a("Header"),this._v(" "),a("AddCard")],1)},staticRenderFns:[]};var u=r("VU/8")(l,v,!1,function(t){r("Qi18")},null,null).exports;s.a.use(e.a),s.a.component("input-mask",n.a),s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:u},template:"<App/>"})},Qi18:function(t,a){},QxEL:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.606b590ac7ef5d0d845b.js.map